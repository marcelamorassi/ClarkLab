---
title: "experiment2_analysis"
author: "Marcela Morassi"
date: "10/24/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(ggpubr)
library(RColorBrewer)
library(rcompanion)
library(dplyr)
library(ggplot2)
library(ggforce)
library(vegan)
theme_set(theme_classic()) # Set the theme

setwd("C:/Users/Marcela Morassi/Documents/Github/ClarkLab")

data2_j <- read.csv("data_experiment2_j_noNG.csv")
data3_j <- read.csv("data3.csv")

```

Amy's working directory and file setup
```{r}
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = "C:/Users/hrusk/Dropbox (Smithsonian)/2021_SummerInterns/MM")
setwd("C:/Users/hrusk/Dropbox (Smithsonian)/2021_SummerInterns/MM")

data2_j <- read.csv("data_experiment2_j_noNG.csv")

```



Data Manipulation
```{r}

#crude growth rate mutations
data2_j <- data2_j %>%  
  mutate(total_growth = day7_root - day3_root) %>% 
  mutate(growthrate1 = (day4_root - day3_root)/24) %>% 
  mutate(growthrate2 = (day5_root - day4_root)/24) %>% 
  mutate(growthrate3 = (day6_root - day5_root)/24) %>% 
  mutate(growthrate4 = (day7_root - day6_root)/24.75) %>% 
  mutate(mean_growthrate = (growthrate1 + growthrate2 + growthrate3 + growthrate4)/4)
```

Data Visualization
```{r}
#growth rate bar graph
data2_j %>% filter(mean_growthrate > 0) %>%  
  ggplot(aes(x = genotype, y = mean_growthrate, fill = ATP_conc, group = factor (ATP_conc))) + geom_bar(stat="identity", position = position_dodge())

ggsave("exp2_growthrate_j.png")


```

Data Summary
```{r}
data2_j %>% select(genotype, ATP_conc, day7_root, mean_growthrate) %>% filter(mean_growthrate>0, ATP_conc == 0, genotype == "WT") %>% sd()

data3_j %>% select(genotype, ATP_conc, day7_root) %>% filter(ATP_conc == 10, day7_root>0) %>% summary()


```




